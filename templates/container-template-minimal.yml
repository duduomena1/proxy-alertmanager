{{ define "__discord_container_alert_context" }}{{range .}}
CONTAINER_ALERT_START
alertname: {{ .Labels.alertname }}
status: {{ .Status }}
startsAt: {{ .StartsAt }}
instance: {{ .Labels.instance }}
job: {{ .Labels.job }}
prometheus_server: {{ .Labels.prometheus_server }}
host_ip: {{ .Labels.host_ip }}
real_host: {{ .Labels.real_host }}
service_type: {{ .Labels.service_type }}
environment: {{ .Labels.environment }}
__address__: {{ .Labels.__address__ }}
prometheus: {{ .Labels.prometheus }}
container: {{ .Labels.container }}
container_name: {{ .Labels.container_name }}
{{range $key, $value := .Labels}}{{ $key }}: {{ $value }}
{{end}}{{range $key, $value := .Values}}value_{{ $key }}: {{ $value }}
{{end}}valuestring: {{ .ValueString }}
CONTAINER_ALERT_END
{{end}}{{ end }}

{{ define "discord.container.text" }}
{{if gt (len .Alerts.Firing) 0}}
üê≥ **ALERTAS DE CONTAINER ATIVOS ({{ .Alerts.Firing | len }})**
{{template "__discord_container_alert_context" .Alerts.Firing}}
{{end}}

{{if gt (len .Alerts.Resolved) 0}}
‚úÖ **ALERTAS DE CONTAINER RESOLVIDOS ({{ .Alerts.Resolved | len }})**  
{{template "__discord_container_alert_context" .Alerts.Resolved}}
{{end}}
{{ end }}

{{ define "discord.container.title" }}Container Alert - {{.Status | toUpper}}{{ end }}