{{ define "__discord_disk_alert_context" }}{{range .}}
DISK_ALERT_START
alertname: {{ .Labels.alertname }}
status: {{ .Status }}
startsAt: {{ .StartsAt }}
instance: {{ .Labels.instance }}
job: {{ .Labels.job }}
prometheus_server: {{ .Labels.prometheus_server }}
host_ip: {{ .Labels.host_ip }}
real_host: {{ .Labels.real_host }}
service_type: {{ .Labels.service_type }}
environment: {{ .Labels.environment }}
__address__: {{ .Labels.__address__ }}
prometheus: {{ .Labels.prometheus }}
device: {{ .Labels.device }}
mountpoint: {{ .Labels.mountpoint }}
fstype: {{ .Labels.fstype }}
{{range $key, $value := .Labels}}{{ $key }}: {{ $value }}
{{end}}{{range $key, $value := .Values}}value_{{ $key }}: {{ $value }}
{{end}}valuestring: {{ .ValueString }}
DISK_ALERT_END
{{end}}{{ end }}

{{ define "discord.disk.text" }}
{{if gt (len .Alerts.Firing) 0}}
ðŸ’¿ **ALERTAS DE DISCO ATIVOS ({{ .Alerts.Firing | len }})**
{{template "__discord_disk_alert_context" .Alerts.Firing}}
{{end}}

{{if gt (len .Alerts.Resolved) 0}}
âœ… **ALERTAS DE DISCO RESOLVIDOS ({{ .Alerts.Resolved | len }})**  
{{template "__discord_disk_alert_context" .Alerts.Resolved}}
{{end}}
{{ end }}

{{ define "discord.disk.title" }}Disk Alert - {{.Status | toUpper}}{{ end }}