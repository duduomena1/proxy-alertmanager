{{ define "__discord_memory_alert_context" }}{{range .}}
MEMORY_ALERT_START
alertname: {{ .Labels.alertname }}
status: {{ .Status }}
startsAt: {{ .StartsAt }}
instance: {{ .Labels.instance }}
job: {{ .Labels.job }}
prometheus_server: {{ .Labels.prometheus_server }}
host_ip: {{ .Labels.host_ip }}
real_host: {{ .Labels.real_host }}
service_type: {{ .Labels.service_type }}
environment: {{ .Labels.environment }}
__address__: {{ .Labels.__address__ }}
prometheus: {{ .Labels.prometheus }}
{{range $key, $value := .Labels}}{{ $key }}: {{ $value }}
{{end}}{{range $key, $value := .Values}}value_{{ $key }}: {{ $value }}
{{end}}valuestring: {{ .ValueString }}
MEMORY_ALERT_END
{{end}}{{ end }}

{{ define "discord.memory.text" }}
{{if gt (len .Alerts.Firing) 0}}
ðŸ’¾ **ALERTAS DE MEMÃ“RIA ATIVOS ({{ .Alerts.Firing | len }})**
{{template "__discord_memory_alert_context" .Alerts.Firing}}
{{end}}

{{if gt (len .Alerts.Resolved) 0}}
âœ… **ALERTAS DE MEMÃ“RIA RESOLVIDOS ({{ .Alerts.Resolved | len }})**  
{{template "__discord_memory_alert_context" .Alerts.Resolved}}
{{end}}
{{ end }}

{{ define "discord.memory.title" }}Memory Alert - {{.Status | toUpper}}{{ end }}